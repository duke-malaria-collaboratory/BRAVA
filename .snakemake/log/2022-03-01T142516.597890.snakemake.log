Building DAG of jobs...
The code used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-code-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-code-changes)'.
The input used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-input-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-input-changes)'.
The params used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-params-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-params-changes)'.
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job stats:
job                count    min threads    max threads
---------------  -------  -------------  -------------
call_haplotypes        1              1              1
total                  1              1              1

Select jobs to execute...

[Tue Mar  1 14:25:17 2022]
rule call_haplotypes:
    input: scripts/step2a_dada2_ama.R
    output: out/haplotype_output/AMA_trimAndFilterTable, out/haplotype_output/AMA_haplotypes.rds, out/haplotype_output/AMA_trackReadsThroughPipeline.csv, out/haplotype_output
    jobid: 0
    resources: tmpdir=/tmp

[Tue Mar  1 14:25:17 2022]
Error in rule call_haplotypes:
    jobid: 0
    output: out/haplotype_output/AMA_trimAndFilterTable, out/haplotype_output/AMA_haplotypes.rds, out/haplotype_output/AMA_trackReadsThroughPipeline.csv, out/haplotype_output

RuleException:
NameError in line 60 of /gpfs/fs1/home/kh455/snakemake-tutorial/Snakefile:
The name 'input' is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}
  File "/gpfs/fs1/home/kh455/snakemake-tutorial/Snakefile", line 60, in __rule_call_haplotypes
  File "/home/kh455/miniconda3/envs/haplotype_calling/lib/python3.10/concurrent/futures/thread.py", line 58, in run
Removing output files of failed job call_haplotypes since they might be corrupted:
out/haplotype_output
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
The code used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-code-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-code-changes)'.
The input used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-input-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-input-changes)'.
The params used to generate one or several output files has changed:
    To inspect which output files have changes, run 'snakemake --list-params-changes'.
    To trigger a re-run, use 'snakemake -R $(snakemake --list-params-changes)'.
Complete log: /gpfs/fs1/home/kh455/snakemake-tutorial/.snakemake/log/2022-03-01T142516.597890.snakemake.log
